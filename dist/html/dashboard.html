<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>hanpass</title>
    <link href="../css/styles.css" rel="stylesheet" />
    <!-- JavaScript -->
    <script src="../vendor/jquery/jquery.min.js"></script>
    <script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="../vendor/scrollmagic/minified/ScrollMagic.min.js"></script>
    <script src="../vendor/scrollmagic/minified/plugins/debug.addIndicators.min.js"></script>
    <script src="../js/app.js"></script>
    <script src="../js/sub.js"></script>
  </head>
  <body>
    <div class="body-wrap">
      <a id="top-btn" href="#">TOP</a>
    
      <!-- gnb -->
      <nav class="navbar navbar--left navbar-expand-lg flex-column">
        <!-- navbar-header -->
        <div class="navbar-header">
          <!-- container-fluid -->
          <div class="container-fluid flex-column flex-nowrap">
            <a class="navbar-brand" href="#"><div class="logo-img">한패스</div> <span class="sr-only">(current)</span></a>
            <!-- <div class="navbar-nav flex-column"> -->
              <ul class="flex-column">
                <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
                <li class="nav-item">
                  <strong class="nav-item__title">송금하기</strong>
                  <!-- <a class="nav-link" href="#">송금하기</a> -->
                  <ul>
                    <li><a class="nav-link" href="#">수취인송금</a></li>
                    <li><a class="nav-link" href="#">엑셀송금</a></li>
                  </ul>
                </li>
                <li class="nav-item">
                  <strong class="nav-item__title">송금내역</strong>
                  <ul>
                    <li><a class="nav-link" href="#">그룹별 송금내역</a></li>
                    <li><a class="nav-link" href="#">개별 송금내역</a></li>
                  </ul>
                </li>
                <li class="nav-item">
                  <strong class="nav-item__title">수취인</strong>
                  <ul>
                    <li><a class="nav-link" href="#">그룹별 송금내역</a></li>
                    <li><a class="nav-link" href="#">개별 송금내역</a></li>
                  </ul>
                </li>
              </ul>
            <!-- </div> -->
            <button class="navbar-toggler only-moblile" type="button" data-toggle="collapse" data-target="#navbar-allmenu" aria-controls="navbar-allmenu" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <!-- navbar-collapse [오픈되었을 때의 컨텐츠] -->
            <div id="navbar-allmenu" class="collapse">
              <div class="navbar-collapse align-items-start flex-wrap">
                <div class="navbar-list">
                  <div class="container-fluid">
                    <!-- nav header -->
                    <div class="d-flex align-items-center navbar-collapse-header">
                      <a class="navbar-brand" href="#"><div class="logo-img">한패스</div> <span class="sr-only">(current)</span></a>
                      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-allmenu" aria-controls="navbar-allmenu" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                      </button>
                    </div>
                    <!-- // nav header -->
                    <!-- nav text -->
                    <div class="navbar-text-wrap">
                      <p class="navbar-text">안녕하세요. 고객님,<br/>
                        <a class="navbar-link" href="#">로그인</a> 하시면 맞춤 서비스를 보다<br/> 이용하실 수 있습니다.</p>
                    </div>
                    <!-- // nav text -->
                    <!-- navbar-nav -->
                    <div class="navbar-nav flex-row flex-wrap">
                      <ul>
                        <li class="nav-item"><a class="nav-link" href="#">홈</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">공지사항</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">문의하기</a></li>
                      </ul>
                    </div>
                    <!-- // navbar-nav -->
                    <!-- bottom link area -->
                    <div class="navbar-bottom-link-wrap">
                      <div class="d-flex flex-row">
                        <a class="nav-bottom-link" href="#">로그인</a>
                        <a class="nav-bottom-link" href="#">가입문의</a>
                      </div>
                    </div>
                    <!-- // bottom link area -->
                  </div>
                </div>  
              </div>
            </div>
            <!-- navbar-collapse // -->
          </div>
          <!-- container-fluid // -->
        </div>
        <!-- navbar-header // -->
      </nav>
      <!-- gnb // --> 

      <!-- cont-wrap -->
      <div class="cont-wrap">
        <!-- 대시보드 -->
        <div class="dash-board">
          <div class="d-flex overflow-x-auto">
            <div class="box blue">
              <div class="item">
                <strong>오늘 송금 금액</strong>
                <div>
                  <span>1,406</span><span class="unit">KRW</span>
                </div>
              </div>
            </div>
            <div class="box">
              <div class="item">
                <strong>7월 송금 금액</strong>
                <div>
                  <span>1,406</span><span class="unit">KRW</span>
                </div>
              </div>
            </div>
            <div class="box small-content">
              <div class="item">
                <strong>2021년 송금금액</strong>
                <div>
                  <span>1,406,123,123,123</span><span class="unit">KRW</span>
                </div>
              </div>
            </div>
          </div>
          <div class="d-flex row space-between">
            <div class="box">
              <div class="remit">
                <div class="remit__title__wrap">
                  <strong class="remit__title">실시간 송금 예상 금액</strong>
                </div>
                <div class="remit__content">
                  <div class="remit__country">
                    <div class="remit__country__title krw">
                      <span>대한민국</span>
                      <span class="unit">KRW</span>
                    </div>
                    <div class="remit__country__content">
                      <label>송금액</label>
                      <input type="text">
                    </div>
                  </div>
                  <div class="remit__charges">
                    <div class="remit__charges__content">
                      <div class="remit__charges__content__item">
                        <strong>송금액 :</strong>
                        <span>1,111,111</span><span class="unit">원</span>
                      </div>
                      <div class="remit__charges__content__item">
                        <strong>전신료<span>(83.33% 우대)</span> :</strong>
                        <span>5,111</span><span class="unit">원</span>
                      </div>
                      <div class="remit__charges__content__item">
                        <strong>외화송금수수료<span>(83.33% 우대)</span> :</strong>
                        <span>5,111</span><span class="unit">원</span>
                      </div>
                      <div class="remit__charges__content__item">
                        <strong>해외중계수수료 :</strong>
                        <div>
                          <span>5,111</span><span class="unit">원</span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="remit__country">
                    <div class="remit__country__title aud">
                      <span>오스트레일리아</span>
                      <span class="unit">AUD</span>
                    </div>
                    <div class="remit__country__content">
                      <label>수취액</label>
                      <span>123,456</span>
                    </div>
                  </div>
                  <div class="remit__total">
                    <strong class="remit__total__title">입금액</strong>
                    <div class="remit__total__content">
                      <span>123,456</span>
                      <span class="unit">원</span>
                    </div>
                  </div>
                </div>
                <button>송금하기</button>
              </div>
            </div>

            <!-- 총 송금액 (년월별) -->
            <div class="box">
              <div class="remit-comparison">
                <div class="remit-comparison__title__wrap">
                  <strong class="remit-comparison__title">총 송금액 (년월별)</strong>
                  <div class="segment">
                    <div class="segment__item">
                      <input type="radio" value="1">
                      <span>월</span>
                    </div>
                    <div class="segment__item">
                      <input type="radio" value="2">
                      <span>년</span>
                    </div>
                  </div>
                </div>
                <div class="desc-wrap">
                  <span class="desc">각 국가의 총 송금액을 연/월별로 비교합니다.</span>
                </div>
              </div>
            </div>
            <!-- // 총 송금액 (년월별) -->

            <!-- 달력 -->
            <div class="box">
              <div class="remit-schedule">
                <table class="calendar">
                  <thead>
                    <tr class="calendar__header">
                      <td onClick="prevCalendar();" style="cursor:pointer;">&#60;</td>
                      <td colspan="5">
                        <span id="calendar__year">YYYY</span>년
                        <span id="calendar__month">MM</span>월
                      </td>
                      <td onClick="nextCalendar();" style="cursor:pointer;">&#62;</td>
                    </tr>
                    <tr class="calendar__week">
                      <td>일</td><td>월</td><td>화</td><td>수</td><td>목</td><td>금</td><td>토</td>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
                <ul class="remit-schedule__list">
                  <li class="remit-schedule__item">
                    <div class="row">
                      <strong class="remit-schedule__item__title">그룹번호</strong>
                      <span class="remit-schedule__item__content">1234567890</span>
                    </div>
                    <div class="row">
                      <strong class="remit-schedule__item__title">송금액</strong>
                      <span class="remit-schedule__item__content">111,910,420 KRW</span>
                    </div>
                  </li>
                  <li class="remit-schedule__item">
                    <div class="row">
                      <strong class="remit-schedule__item__title">그룹번호</strong>
                      <span class="remit-schedule__item__content">1234567890</span>
                    </div>
                    <div class="row">
                      <strong class="remit-schedule__item__title">송금액</strong>
                      <span class="remit-schedule__item__content">111,910,420 KRW</span>
                    </div>
                  </li>
                  <li class="remit-schedule__item">
                    <div class="row">
                      <strong class="remit-schedule__item__title">그룹번호</strong>
                      <span class="remit-schedule__item__content">1234567890</span>
                    </div>
                    <div class="row">
                      <strong class="remit-schedule__item__title">송금액</strong>
                      <span class="remit-schedule__item__content">111,910,420 KRW</span>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
            <!-- // 달력 -->

          </div>
          <div class="d-flex row">
            <!-- 송금 현황 -->
            <div class="box">
              <div class="remit-status">
                <div class="remit-status__title__wrap">
                  <div class="left">
                    <strong class="remit-status__title">송금 현황</strong>
                    <span class="remit-status__unit">[최근 3개월]</span>
                  </div>
                  <button>더보기</button>
                </div>
                <div class="remit-status__container">
                  <div class="remit-status__list__header">
                    <span style="width: 22%;">년월</span>
                    <span style="width: 22%;">건수</span>
                    <span style="width: 56%;">합계</span>
                  </div>
                  <ul class="remit-status__list">
                    <li class="remit-status__item">
                      <span style="width: 22%;">21.7</span>
                      <span style="width: 22%;">41</span>
                      <span style="width: 56%;" class="text-right">910,420 KRW</span>
                    </li>
                    <li class="remit-status__item">
                      <span style="width: 22%;">21.7</span>
                      <span style="width: 22%;">41</span>
                      <span style="width: 56%;" class="text-right">111,910,420 KRW</span>
                    </li>
                    <li class="remit-status__item">
                      <span style="width: 22%;">21.7</span>
                      <span style="width: 22%;">41</span>
                      <span style="width: 56%;" class="text-right">420 KRW</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <!-- // 송금 현황 -->
            <!-- 송금국가 순위 -->
            <div class="box">
              <div class="remit-rank">
                <div class="remit-rank__title__wrap">
                  <strong class="remit-rank__title">송금국가 순위</strong>
                </div>
                <div class="remit-rank__desc__wrap">
                  <p class="remit-rank__desc">
                    각 국가의 송금 퍼센트를 비교합니다. 마우스를 올려보세요
                  </p>
                </div>
                <div class="remit-rank__container">
                </div>
              </div>
            </div>
            <!-- // 송금국가 순위 -->
          </div>

        </div>
        <!-- // 대시보드 -->
      </div>
      <!-- cont-wrap // -->

      <!-- footer -->
      <div class="footer">
        <div class="footer__header">
          <div class="footer__header__content">
            <a class="footer__link" href="#"><span>HOME</span></a>
            <a class="footer__link" href="#"><span>서비스 이용약관</span></a>

            <!-- 패밀리 사이트 -->
            <div class="footer__dropdown dropup">
              <button
                class="button dropdown-toggle"
                type="button"
                data-offset="0,10"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
              >
                family Site
              </button>
              <div class="dropdown-menu">
                <a class="dropdown-item" href="#">한패스 홈페이지로 바로가기</a>
              </div>
            </div>
            <!-- // 패밀리 사이트 -->
          </div>
        </div>
        <div class="footer__container">
          <div class="footer__container__content">
            <a href="#">
              <div class="logo-img">한패스</div>
            </a>
            <p class="footer__txt">
              주소 . 서울 성동구 아차산로 92, 에스타워 4층 04782 한패스㈜ <br>
              팩스 . (+82) 2.465.0767 이메일 . contact@hanpass.com <br>
              전화 . (+82) 2.3409.1540 평일 . 09:00AM - 18:00PM 점심시간 . 12:00PM - 01:00PM (토/일/공휴일 휴무) <br>
              한패스(주) 사업자 등록번호 . 714-87-00610 대표이사 . 김경훈
            </p>
          </div>
        </div>
      </div>
      <!-- footer // -->
    </div>
  </body>
  <script>
    // !!퍼블 예시 소스 입니다!!
    // .has-clear : input에 padding-right: 50px 추가
    // 기본 버튼 숨김 처리
    $(".form-control-clear").hide();
    // form-control 이벤트 추가
    $(".form-control").on(
      "propertychange change keyup paste input",
      function() {
        var currentVal = $(this).val();
        if (currentVal !== "") {
          $(this).addClass("has-clear");
          $(this)
            .siblings(".form-control-clear")
            .show();
        }
      }
    );
    $(".form-control-clear").click(function() {
      $(this)
        .siblings("input[type='text']")
        .val("");
      $(this)
        .siblings("input[type='text']")
        .show();
      $(this).hide();
    });
  </script>

  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function() {
      buildCalendar();
    });

    var today = new Date(); // @param 전역 변수, 오늘 날짜 / 내 컴퓨터 로컬을 기준으로 today에 Date 객체를 넣어줌
    var date = new Date();  // @param 전역 변수, today의 Date를 세어주는 역할

    var monthNames = [
      "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"
    ];

    /**
     * @brief   이전달 버튼 클릭
     */
    function prevCalendar() {
      this.today = new Date(today.getFullYear(), today.getMonth() - 1, today.getDate());
      buildCalendar();    // @param 전월 캘린더 출력 요청
    }

    /**
     * @brief   다음달 버튼 클릭
     */
    function nextCalendar() {
      this.today = new Date(today.getFullYear(), today.getMonth() + 1, today.getDate());
      buildCalendar();    // @param 명월 캘린더 출력 요청
    }

    /**
     * @brief   캘린더 오픈
     * @details 날짜 값을 받아 캘린더 폼을 생성하고, 날짜값을 채워넣는다.
     */
    function buildCalendar() {
      let doMonth = new Date(today.getFullYear(), today.getMonth(), 1);
      let lastDate = new Date(today.getFullYear(), today.getMonth() + 1, 0);

      let tbCalendar = document.querySelector(".calendar > tbody");

      document.getElementById("calendar__year").innerText = today.getFullYear();                                  // @param YYYY월
      document.getElementById("calendar__month").innerText = autoLeftPad((today.getMonth() + 1), 2);   // @param MM월

      // @details 이전 캘린더의 출력결과가 남아있다면, 이전 캘린더를 삭제한다.
      while(tbCalendar.rows.length > 0) {
          tbCalendar.deleteRow(tbCalendar.rows.length - 1);
      }

      // @param 첫번째 개행
      let row = tbCalendar.insertRow();

      // @param 날짜가 표기될 열의 증가값
      let dom = 1;

      // @details 시작일의 요일값( doMonth.getDay() ) + 해당월의 전체일( lastDate.getDate())을  더해준 값에서
      //               7로 나눈값을 올림( Math.ceil() )하고 다시 시작일의 요일값( doMonth.getDay() )을 빼준다.
      let daysLength = (Math.ceil((doMonth.getDay() + lastDate.getDate()) / 7) * 7) - doMonth.getDay();

      // @param 달력 출력

      // @details 시작값은 1일을 직접 지정하고 요일값( doMonth.getDay() )를 빼서 마이너스( - )로 for문을 시작한다.
      for(let day = 1 - doMonth.getDay(); daysLength >= day; day++) {

        let column = row.insertCell();

        // @param 평일( 전월일과 익월일의 데이터 제외 )
        if(Math.sign(day) == 1 && lastDate.getDate() >= day) {
          // @param 평일 날짜 데이터 삽입
          column.innerText = autoLeftPad(day, 2);

          // @param 일요일인 경우
          if(dom % 7 == 1) {
            column.style.color = "#FF4D4D";
          }
          // @param 토요일인 경우
          if(dom % 7 == 0) {
            column.style.color = "#4D4DFF";
            row = tbCalendar.insertRow();   // @param 토요일이 지나면 다시 가로 행을 한줄 추가한다.
          }
        }
        // @param 평일 전월일과 익월일의 데이터 날짜변경
        else {
          let exceptDay = new Date(doMonth.getFullYear(), doMonth.getMonth(), day);
          column.innerText = autoLeftPad(exceptDay.getDate(), 2);
          column.style.color = "#A9A9A9";
        }

        // @brief   전월, 명월 음영처리
        // @details 현재년과 선택 년도가 같은경우
        if(today.getFullYear() == date.getFullYear()) {
          // @details 현재월과 선택월이 같은경우
          if(today.getMonth() == date.getMonth()) {

            // @details 현재일보다 이전인 경우이면서 현재월에 포함되는 일인경우
            if(date.getDate() > day && Math.sign(day) == 1) {
              column.style.backgroundColor = "#E5E5E5";
            }

            // @details 현재일보다 이후이면서 현재월에 포함되는 일인경우
            else if(date.getDate() < day && lastDate.getDate() >= day) {
              column.style.backgroundColor = "#FFFFFF";
              column.style.cursor = "pointer";
              column.onclick = function(){ calendarChoiceDay(this); }
            }

            // @details 현재일인 경우
            else if(date.getDate() == day) {
              column.style.backgroundColor = "#FFFFE6";
              column.style.cursor = "pointer";
              column.onclick = function(){ calendarChoiceDay(this); }
            }

          // @details 현재월보다 이전인경우
          } else if(today.getMonth() < date.getMonth()) {
            if(Math.sign(day) == 1 && day <= lastDate.getDate()) {
              column.style.backgroundColor = "#E5E5E5";
            }
          }

          // @details 현재월보다 이후인경우
          else {
            if(Math.sign(day) == 1 && day <= lastDate.getDate()) {
              column.style.backgroundColor = "#FFFFFF";
              column.style.cursor = "pointer";
              column.onclick = function(){ calendarChoiceDay(this); }
            }
          }
        }

        // @details 선택한년도가 현재년도보다 작은경우
        else if(today.getFullYear() < date.getFullYear()) {
          if(Math.sign(day) == 1 && day <= lastDate.getDate()) {
            column.style.backgroundColor = "#E5E5E5";
          }
        }

        // @details 선택한년도가 현재년도보다 큰경우
        else {
          if(Math.sign(day) == 1 && day <= lastDate.getDate()) {
            column.style.backgroundColor = "#FFFFFF";
            column.style.cursor = "pointer";
            column.onclick = function(){ calendarChoiceDay(this); }
          }
        }
        dom++;
      }
    }
    /**
     * @brief   날짜 선택
     * @details 사용자가 선택한 날짜에 체크표시를 남긴다.
     */
    function calendarChoiceDay(column) {
      // @param 기존 선택일이 존재하는 경우 기존 선택일의 표시형식을 초기화 한다.
      // if(document.getElementsByClassName("choiceDay")[0]) {
      //   document.getElementsByClassName("choiceDay")[0].style.backgroundColor = "#FFFFFF";
      //   document.getElementsByClassName("choiceDay")[0].classList.remove("choiceDay");
      // }

      // @param 선택일 체크 표시
      column.style.color = "#ffffff";
      column.style.backgroundColor = "#146fd3";

      // @param 선택일 클래스명 변경
      column.classList.add("choice");
    }
    /**
     * @brief   숫자 두자릿수( 00 ) 변경
     * @details 자릿수가 한지라인 ( 1, 2, 3등 )의 값을 10, 11, 12등과 같은 두자리수 형식으로 맞추기위해 0을 붙인다.
     * @param   num     앞에 0을 붙일 숫자 값
     * @param   digit   글자의 자릿수를 지정 ( 2자릿수인 경우 00, 3자릿수인 경우 000 … )
     */
    function autoLeftPad(num, digit) {
      if(String(num).length < digit) {
        num = new Array(digit - String(num).length + 1).join("0") + num;
      }
      return num;
    }
  </script>
</html>
